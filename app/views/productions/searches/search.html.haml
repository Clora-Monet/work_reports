= form_for [@production_result],url: productions_searches_path do |f|
  .index 
    .form
      .form__info 
        .form__info__date
          = f.date_field :date
        .form__info__post
          = link_to  productions_searches_path, class: "form__info__post__btn" do
            戻る
      .form__table
        %table.table
          %thead
            %tr
              %th 時間
              %th 実数
              %th 累計
              %th 箱
              %th 番
              %th 号
            %tr
              %td 7:00~8:00
              %td 
                = @day_productions[0]
              %td 
                = @day_cumulative_productions[0]
              %td.input_area
                = @production_result.begin_box1
              %td〜
              %td.input_area
                = @production_result.end_box1
            %tr
              %td 8:00~9:00
              %td 
                = @day_productions[1]
              %td 
                = @day_cumulative_productions[1]
              %td.input_area
                = @production_result.begin_box2
              %td
              %td.input_area
                = @production_result.end_box2
            %tr
              %td 9:00~10:00
              %td 
                = @day_productions[2]
              %td 
                = @day_cumulative_productions[2]
              %td.input_area
                = @production_result.begin_box3
              %td
              %td.input_area
                = @production_result.end_box3
            %tr
              %td 10:00~11:00
              %td 
                = @day_productions[3]
              %td 
                = @day_cumulative_productions[3]
              %td.input_area
                = @production_result.begin_box4
              %td
              %td.input_area
                = @production_result.end_box4
            %tr
              %td 11:00~12:00
              %td 
                = @day_productions[4]
              %td 
                = @day_cumulative_productions[4]
              %td.input_area
                = @production_result.begin_box5
              %td
              %td.input_area
                = @production_result.end_box5
            %tr
              %td 12:00~13:00
              %td 
                = @day_productions[5]
              %td 
                = @day_cumulative_productions[5]
              %td.input_area
                = @production_result.begin_box6
              %td
              %td.input_area
                = @production_result.end_box6
            %tr
              %td 13:00~14:00
              %td 
                = @day_productions[6]
              %td 
                = @day_cumulative_productions[6]
              %td.input_area
                = @production_result.begin_box7
              %td
              %td.input_area
                = @production_result.end_box7
            %tr
              %td 14:00~15:00
              %td 
                = @day_productions[7]
              %td 
                = @day_cumulative_productions[7] 
              %td.input_area
                = @production_result.begin_box8
              %td
              %td.input_area
                = @production_result.end_box8
            %tr
              %td 15:00~16:00
              %td 
                = @day_productions[8]
              %td 
                = @day_cumulative_productions[8]
              %td.input_area
                = @production_result.begin_box9
              %td
              %td.input_area
                = @production_result.end_box9
            %tr
              %td 16:00~17:00
              %td 
                = @day_productions[9]
              %td 
                = @day_cumulative_productions[9] 
              %td.input_area
                = @production_result.begin_box10
              %td
              %td.input_area
                = @production_result.end_box10
            %tr
              %td 17:00~18:00
              %td 
                = @day_productions[10]
              %td 
                = @day_cumulative_productions[10] 
              %td.input_area
                = @production_result.begin_box11
              %td
              %td.input_area
                = @production_result.end_box11
            %tr
              %td 18:00~19:00
              %td 
                = @day_productions[11]
              %td 
                = @day_cumulative_productions[11] 
              %td.input_area
                = @production_result.begin_box12
              %td
              %td.input_area
                = @production_result.end_box12
            %tr
              %td 19:00~20:00
              %td 
                = @day_productions[12]
              %td 
                = @day_cumulative_productions[12] 
              %td.input_area
                = @production_result.begin_box13
              %td
              %td.input_area
                = @production_result.end_box13
            %tr
              %td 20:00~21:00
              %td 
                = @day_productions[13]
              %td 
                = @day_cumulative_productions[13] 
              %td.input_area
                = @production_result.begin_box14
              %td
              %td.input_area
                = @production_result.end_box14
            %tr
              %td 21:00~22:00
              %td 
                = @day_productions[14]
              %td 
                = @day_cumulative_productions[14] 
              %td.input_area
                = @production_result.begin_box15
              %td
              %td.input_area
                = @production_result.end_box15
            %tr
              %td 22:00~23:00
              %td 
                = @day_productions[15]
              %td 
                = @day_cumulative_productions[15] 
              %td.input_area
                = @production_result.begin_box16
              %td
              %td.input_area
                = @production_result.end_box16
            %tr
              %td 23:00~00:00
              %td 
                = @day_productions[16]
              %td 
                = @day_cumulative_productions[16] 
              %td.input_area
                = @production_result.begin_box17
              %td
              %td.input_area
                = @production_result.end_box17
            %tr
              %td 00:00~01:00
              %td 
                = @day_productions[17]
              %td 
                = @day_cumulative_productions[17] 
              %td.input_area
                = @production_result.begin_box18
              %td
              %td.input_area
                = @production_result.end_box18
            %tr
              %td 01:00~02:00
              %td 
                = @day_productions[18]
              %td 
                = @day_cumulative_productions[18] 
              %td.input_area
                = @production_result.begin_box19
              %td
              %td.input_area
                = @production_result.end_box19
            %tr
              %td 02:00~03:00
              %td 
                = @day_productions[19]
              %td 
                = @day_cumulative_productions[19] 
              %td.input_area
                = @production_result.begin_box20
              %td
              %td.input_area
                = @production_result.end_box20
            %tr
              %td 03:00~04:00
              %td 
                = @day_productions[20]
              %td 
                = @day_cumulative_productions[20] 
              %td.input_area
                = @production_result.begin_box21
              %td
              %td.input_area
                = @production_result.end_box21
            %tr
              %td 04:00~05:00
              %td 
                = @day_productions[21]
              %td 
                = @day_cumulative_productions[21] 
              %td.input_area
                = @production_result.begin_box22
              %td
              %td.input_area
                = @production_result.end_box22
            %tr
              %td 05:00~06:00
              %td 
                = @day_productions[22]
              %td 
                = @day_cumulative_productions[22] 
              %td.input_area
                = @production_result.begin_box23
              %td
              %td.input_area
                = @production_result.end_box23
            %tr
              %td 06:00~07:00
              %td 
                = @day_productions[23]
              %td 
                = @day_cumulative_productions[23] 
              %td.input_area
                = @production_result.begin_box24
              %td
              %td.input_area
                = @production_result.end_box24
    .main 
      .main__product
        .main__product__line
          .main__product__line__name
            = @production_result.line.name
          .main__product__info__perbox
            = @production_result.product.per_case
            本
        .main__product__info
          .main__product__info__code
            = @production_result.product.code
          .main__product__info__name
            = @production_result.product.name
      .main__graph
        .main__graph__image
          %canvas#myChart{height: "430", width: "800"}
          :javascript
            var ctx = document.getElementById("myChart").getContext('2d');
            var myChart = new Chart(ctx, {
              type: 'bar',
              data: {
                labels: gon.date,
                datasets: [{
                  label: "累計生産数",
                  data: gon.day_cumulative_productions,
                  type: 'line',
                  yAxisID: "y-axis-2",
                  fill: false,
                  borderColor: 'rgba(52, 147, 255, 1.0)',
                },{
                  label: "",
                  data: gon.productions_predict,
                  type: 'line',
                  fill: false,
                  yAxisID: "y-axis-2",
                  borderColor: 'rgba(125, 215, 135, 1.0)',
                },{
                  label: "生産数",
                  data: gon.day_productions,
                  backgroundColor: 'rgba(255, 99, 132, 1.0)',
                  borderColor: 'rgba(255, 50, 132, 1.0)',
                  fill: false,
                  categoryPercentage: 1,
                  yAxisID: "y-axis-1",
                }]
              },
              options: {
                title:  {
                  display: true,
                  text: gon.result_date + "の生産数"
                },
                scales: {
                  xAxes:[{
                    categoryPercentage: 1,
                  }],
                  yAxes: [{
                    id: "y-axis-1",
                    type: "linear",
                    position: "left",
                    scaleLabel: {
                      display: true,
                      labelString: "一時間当たりの生産数",
                      fontSize: 14,
                      fontColor: 'rgba(255, 99, 132, 1.0)'
                    },
                    ticks: {
                      beginAtZero:true,
                      stepSize: gon.per_case
                    }
                  },{
                    id: "y-axis-2",
                    type: "linear",
                    position: "right",
                    scaleLabel: {
                      display: true,
                      labelString: "累計生産数",
                      fontSize: 14,
                      fontColor: 'rgba(52, 147, 255, 1.0)'
                    },
                    ticks: {
                      beginAtZero:true
                    }
                  }]
                }
              }
            });
